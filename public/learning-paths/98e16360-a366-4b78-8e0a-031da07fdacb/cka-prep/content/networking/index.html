<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=alternate type=application/json href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/networking/index.json><meta name=robots content="index, follow"><link rel="shortcut icon" href=https://cloud.layer5.io/academy/favicons/favicon.ico><link rel=apple-touch-icon href=https://cloud.layer5.io/academy/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=https://cloud.layer5.io/academy/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=https://cloud.layer5.io/academy/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://cloud.layer5.io/academy/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=https://cloud.layer5.io/academy/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=https://cloud.layer5.io/academy/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=https://cloud.layer5.io/academy/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=https://cloud.layer5.io/academy/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=https://cloud.layer5.io/academy/favicons/android-192x192.png sizes=192x192><title>Networking | Layer5 Academy</title><meta name=description content="Understand Pod to Pod communication, Service discovery, Ingress resources."><meta property="og:url" content="https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/networking/"><meta property="og:site_name" content="Layer5 Academy"><meta property="og:title" content="Networking"><meta property="og:description" content="Understand Pod to Pod communication, Service discovery, Ingress resources."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Networking"><meta itemprop=description content="Understand Pod to Pod communication, Service discovery, Ingress resources."><meta itemprop=wordCount content="1007"><meta name=twitter:card content="summary"><meta name=twitter:title content="Networking"><meta name=twitter:description content="Understand Pod to Pod communication, Service discovery, Ingress resources."><link rel=preload href=https://cloud.layer5.io/academy/scss/main.min.8d61368d36274adb6675933a7937cfa090b823abdb581eede811dfeab0c3628e.css as=style integrity="sha256-jWE2jTYnSttmdZM6eTfPoJC4I6vbWB7t6BHf6rDDYo4=" crossorigin=anonymous><link href=https://cloud.layer5.io/academy/scss/main.min.8d61368d36274adb6675933a7937cfa090b823abdb581eede811dfeab0c3628e.css rel=stylesheet integrity="sha256-jWE2jTYnSttmdZM6eTfPoJC4I6vbWB7t6BHf6rDDYo4=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-section><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="form-control td-search__input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=https://cloud.layer5.io/academy/offline-search-index.f16c09dddb81ca89db2c4b5cb89e7f49.json data-offline-search-base-href=https://cloud.layer5.io/academy/ data-offline-search-max-results=10></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prep-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prep><span>Certified Kubernetes Administrator (CKA) Preparation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentcertifications-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/certifications/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentcertifications><span>Certifications</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentcreation-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/creation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentcreation><span>Create a cluster</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentworkload-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/workload/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentworkload><span>Workloads</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentscheduling-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/scheduling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentscheduling><span>Scheduling Pods</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentnetworking-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/networking/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__section" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentnetworking><span class=td-sidebar-nav-active-item>Networking</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentstorage-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/storage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentstorage><span>Storage</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentsecurity-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/security/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentsecurity><span>Security</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontenttroubleshooting-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/troubleshooting/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontenttroubleshooting><span>Troubleshooting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentoperations-li><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/operations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-learning-paths98e16360-a366-4b78-8e0a-031da07fdacbcka-prepcontentoperations><span>Operations</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"></div></aside><main class="col-12 col-md-9 col-xl-8" role=main><div class="page-header d-flex justify-content-between align-items-center"><div class=breadcrumb-container><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://cloud.layer5.io/academy/learning-paths/>Learning Paths</a></li><li class=breadcrumb-item><a href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/>Certified Kubernetes Administrator (CKA) Preparation</a></li><li class="breadcrumb-item active" aria-current=page>Networking</li></ol></nav></div></div><div class=td-content><h1>Networking</h1><div class=lead>Understand Pod to Pod communication, Service discovery, Ingress resources.</div><header class=article-meta><p class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>&nbsp; 5 minute read &nbsp;</p></header><p>This section is a refresher that provides an overview of the main Kubernetes resources related to networking. At the end of this section, please complete the exercises to put these concepts into practice.</p><h2 id=kubernetes-networking-model class=heading-link>Kubernetes Networking Model
<a href=#kubernetes-networking-model class=heading-anchor aria-label="Permalink to this heading">🔗</a></h2><hr><p>In Kubernetes, a network plugin ensures communication between the Pods. Each network plugin must implement the following requirements:</p><ul><li>all Pods can communicate with all other Pods without NAT</li><li>all Nodes can communicate with all Pods without NAT</li><li>the IP that a Pod sees itself as is the same IP that others see it as</li></ul><h2 id=communication-types class=heading-link>Communication Types
<a href=#communication-types class=heading-anchor aria-label="Permalink to this heading">🔗</a></h2><hr><p>There are different types of communication within a cluster:</p><ul><li><strong>Container to container</strong></li><li><strong>Pod to Pod</strong><ul><li>on the same Node</li><li>on different Nodes</li></ul></li><li><strong>Pod to Service</strong></li><li><strong>External to Service</strong><ul><li>NodePort service</li><li>LoadBalancer Service</li><li>Ingress Controller</li></ul></li></ul><h3 id=container-to-container-communication class=heading-link><strong>Container to Container Communication</strong>
<a href=#container-to-container-communication class=heading-anchor aria-label="Permalink to this heading">🔗</a></h3><p>When a Pod is created, it has its own network namespace which is set up by a <strong>pause container</strong>. This container is special as it does not run any workload and is not visible from the kubectl commands. The other containers of this Pod are all attached to the pause container&rsquo;s network namespace and are thus communicating through <code>localhost</code>.</p><p><div class=md__image><img id="[267 409 427 183 233 22]" src=container-to-container.png onclick=openModal(this.id) alt=container-to-container class=md-image-responsive></div></p><h3 id=pod-to-pod-on-the-same-node class=heading-link><strong>Pod to Pod on the Same Node</strong>
<a href=#pod-to-pod-on-the-same-node class=heading-anchor aria-label="Permalink to this heading">🔗</a></h3><p>Each Pod has its own network namespace and they communicate via a virtual Ethernet (veth) pair connected to a bridge on the host. This setup allows Pod-to-Pod traffic to be switched locally without leaving the Node.</p><p><div class=md__image><img id="[123 381 98 116 24 161]" src=pod-to-pod-same-node.png onclick=openModal(this.id) alt=pod-to-pod-same-node class=md-image-responsive></div></p><h3 id=pod-to-pod-across-different-nodes class=heading-link><strong>Pod to Pod Across Different Nodes</strong>
<a href=#pod-to-pod-across-different-nodes class=heading-anchor aria-label="Permalink to this heading">🔗</a></h3><p>The network plugin ensures that each Pod&rsquo;s IP is routable across the cluster, using encapsulation, overlays, or native routing. Packets travel across the network infrastructure between Nodes before reaching the destination Pod&rsquo;s virtual interface.</p><p><div class=md__image><img id="[457 224 66 312 320 238]" src=pod-to-pod-different-nodes.png onclick=openModal(this.id) alt=pod-to-pod-different-nodes class=md-image-responsive></div></p><h2 id=network-plugin class=heading-link>Network Plugin
<a href=#network-plugin class=heading-anchor aria-label="Permalink to this heading">🔗</a></h2><hr><p>A Network plugin is mandatory in a Kubernetes cluster. It ensures the communication between Pods across the cluster, whether they are on the same Node or on different Nodes.</p><p>Among the network plugins available, <strong>Kubenet</strong> is a basic and simple one, it has a limited set of functionalities and cannot be used with kubeadm. All other major plugins implement the Container Networking Interface (CNI) specification.</p><ul><li><a href=https://github.com/containernetworking>https://github.com/containernetworking</a> - CNCF incubated project</li><li><a href=https://cncf.io/projects>https://cncf.io/projects</a> - Manages containers&rsquo; network connectivity</li><li>More info: <a href=https://bit.ly/about-cni-plugins>https://bit.ly/about-cni-plugins</a></li></ul><p><div class=md__image><img id="[272 325 428 23 276 45]" src=cni.png onclick=openModal(this.id) alt=cni class=md-image-responsive></div></p><h2 id=container-network-interface-cni class=heading-link>Container Network Interface (CNI)
<a href=#container-network-interface-cni class=heading-anchor aria-label="Permalink to this heading">🔗</a></h2><hr><p>CNI provides a standard interface for configuring network interfaces in Linux containers, allowing plugins to implement their own advanced functionalities such as routing, network security, and more.</p><p>Popular CNI plugins include:</p><ul><li><a href=https://cilium.io>Cilium</a> - advanced security, eBPF-based</li><li><a href=https://www.tigera.io/project-calico/>Calico</a> - policy engine, supports BGP</li><li><a href=https://github.com/flannel-io/flannel>Flannel</a> - simple, uses VXLAN by default</li></ul><p>These plugins are typically:</p><ul><li>Installed as a DaemonSet</li><li>Designed for different use cases (low latency, enhanced security, observability, etc.)</li><li>Can use encapsulation (L2/VXLAN) or non-encapsulated (L3/BGP) modes depending on your setup and requirements</li></ul><h3 id=communication-types-1 class=heading-link>Communication Types
<a href=#communication-types-1 class=heading-anchor aria-label="Permalink to this heading">🔗</a></h3><h4 id=encapsulated-vxlan class=heading-link>Encapsulated (VXLAN)
<a href=#encapsulated-vxlan class=heading-anchor aria-label="Permalink to this heading">🔗</a></h4><p>Traffic between Pods is wrapped (encapsulated) in another packet and routed through an overlay network.</p><p><div class=md__image><img id="[130 404 208 167 469 379]" src=encapsulated.png onclick=openModal(this.id) alt=encapsulated class=md-image-responsive></div></p><h4 id=unencapsulated-bgp class=heading-link>Unencapsulated (BGP)
<a href=#unencapsulated-bgp class=heading-anchor aria-label="Permalink to this heading">🔗</a></h4><p>Traffic is routed directly between nodes without encapsulation, using protocols like BGP to advertise Pod networks.</p><p><div class=md__image><img id="[311 302 65 333 116 66]" src=uncapsulated.png onclick=openModal(this.id) alt=uncapsulated class=md-image-responsive></div></p><h2 id=service class=heading-link>Service
<a href=#service class=heading-anchor aria-label="Permalink to this heading">🔗</a></h2><hr><p>A Service is a Kubernetes resource that provides a stable networking endpoint to expose a group of Pods. Services ensure that communication to a group of Pods is reliable, even as Pods are dynamically created or destroyed.</p><p>Main types of Services:</p><ul><li><strong>ClusterIP (default):</strong> exposes the Service internally within the cluster. Not accessible from outside</li><li><strong>NodePort:</strong> exposes the Service on a static port on each Node of the cluster</li><li><strong>LoadBalancer:</strong> creates an external load balancer (only available when using a cloud provider) to expose the Service to the internet</li></ul><p>Key Characteristics:</p><ul><li>Each Service is assigned a Virtual IP (VIP), which stays the same during the lifecycle of the Service</li><li>Services use labels and selectors to dynamically group Pods</li><li>kube-proxy configures network rules on Nodes to route traffic from the Service to the appropriate Pods</li></ul><h3 id=service-of-type-clusterip class=heading-link>Service of Type ClusterIP
<a href=#service-of-type-clusterip class=heading-anchor aria-label="Permalink to this heading">🔗</a></h3><p>A Service of type ClusterIP exposes a group of Pods inside the cluster, so that other Pods can reach them.</p><p><div class=md__image><img id="[175 94 351 33 290 476]" src=ClusterIP.png onclick=openModal(this.id) alt=ClusterIP class=md-image-responsive></div></p><h3 id=service-of-type-nodeport class=heading-link>Service of Type NodePort
<a href=#service-of-type-nodeport class=heading-anchor aria-label="Permalink to this heading">🔗</a></h3><p>A Service of type NodePort exposes a group of Pods to the external world, opening the same port on each Node.</p><p><div class=md__image><img id="[459 49 53 169 187 146]" src=NodePort.png onclick=openModal(this.id) alt=NodePort class=md-image-responsive></div></p><h3 id=service-of-type-loadbalancer class=heading-link>Service of Type LoadBalancer
<a href=#service-of-type-loadbalancer class=heading-anchor aria-label="Permalink to this heading">🔗</a></h3><p>A Service of type LoadBalancer exposes a group of Pods to the external world through a load balancer. This feature is only available for clusters running on cloud providers.</p><p><div class=md__image><img id="[234 114 394 435 27 216]" src=LoadBalancer.png onclick=openModal(this.id) alt=LoadBalancer class=md-image-responsive></div></p><h2 id=endpoints class=heading-link>Endpoints
<a href=#endpoints class=heading-anchor aria-label="Permalink to this heading">🔗</a></h2><hr><p>Endpoints resources are the list of IP:PORT of the pods exposed by a Service. Endpoints are updated each time a Pod is created/updated. The commands below create a Deployment with 3 Pods and expose them with a Service.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Creation of a deployment
</span></span><span class=line><span class=cl>kubectl create deploy ghost --replicas<span class=o>=</span><span class=m>3</span> --image<span class=o>=</span>ghost:4
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Exposition through a service
</span></span><span class=line><span class=cl>kubectl expose deploy/ghost --port<span class=o>=</span><span class=m>2368</span>
</span></span></code></pre></div><p>We can query the Endpoints directly.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get endpoints ghost
</span></span><span class=line><span class=cl>NAME    ENDPOINTS                                          AGE
</span></span><span class=line><span class=cl>ghost   10.0.0.210:2368,10.0.0.25:2368,10.0.1.252:2368   51s
</span></span></code></pre></div><p>Or, get the list of Endpoints from the Service&rsquo;s details.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl describe svc ghost
</span></span><span class=line><span class=cl>Name:              ghost
</span></span><span class=line><span class=cl>Namespace:         default
</span></span><span class=line><span class=cl>Labels:            <span class=nv>app</span><span class=o>=</span>ghost
</span></span><span class=line><span class=cl>Annotations:       &lt;none&gt;
</span></span><span class=line><span class=cl>Selector:          <span class=nv>app</span><span class=o>=</span>ghost
</span></span><span class=line><span class=cl>Type:              ClusterIP
</span></span><span class=line><span class=cl>IP Family Policy:  SingleStack
</span></span><span class=line><span class=cl>IP Families:       IPv4
</span></span><span class=line><span class=cl>IP:                10.107.128.221
</span></span><span class=line><span class=cl>IPs:               10.107.128.221
</span></span><span class=line><span class=cl>Port:              &lt;unset&gt;  2368/TCP
</span></span><span class=line><span class=cl>TargetPort:        2368/TCP
</span></span><span class=line><span class=cl>Endpoints:         10.0.1.252:2368,10.0.0.210:2368,10.0.0.25:2368
</span></span><span class=line><span class=cl>Session Affinity:  None
</span></span><span class=line><span class=cl>Internal Traffic Policy: Cluster
</span></span><span class=line><span class=cl>Events:            &lt;none&gt;
</span></span></code></pre></div><h2 id=pod-to-service-communication class=heading-link>Pod to Service Communication
<a href=#pod-to-service-communication class=heading-anchor aria-label="Permalink to this heading">🔗</a></h2><hr><p>By default, <strong>kube-proxy</strong> sets the network rules when we create a Service. These rules allow access to the backend Pods when accessing the Service.</p><p>kube-proxy currently uses <strong>iptables</strong> as the default data-plane mode, but another mode can be enabled instead, such as <strong>IPVS</strong> or <strong>eBPF</strong> (via Calico or Cilium network plugins).</p><p>This <a href=https://bit.ly/kube-proxy-iptables>article</a> provides additional information about how the iptables rules are created.</p><h2 id=ingress-controller class=heading-link>Ingress Controller
<a href=#ingress-controller class=heading-anchor aria-label="Permalink to this heading">🔗</a></h2><hr><p>An Ingress Controller is a reverse proxy exposing ClusterIP services to the outside. It&rsquo;s usually the single entry point exposed by an external load balancer.</p><p><div class=md__image><img id="[398 126 345 452 403 449]" src=ingress.png onclick=openModal(this.id) alt=ingress class=md-image-responsive></div></p><p>An Ingress Controller is configured with resources of type Ingress which allows L7 routing via the domain name or a path within the URL. Below is an example of Ingress specification. It redirects all traffic targeting the <code>/api</code> endpoint to the <code>api</code> Service listening on port 80.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>networking.k8s.io/v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>ingress</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>annotations</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>nginx.ingress.kubernetes.io/rewrite-target</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>ingressClassName</span><span class=p>:</span><span class=w> </span><span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>http</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/api</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>pathType</span><span class=p>:</span><span class=w> </span><span class=l>Prefix</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>service</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>api</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>port</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>number</span><span class=p>:</span><span class=w> </span><span class=m>80</span><span class=w>
</span></span></span></code></pre></div><div class=section-index></div><nav class="pagination-nav mt-5" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/scheduling/><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label><i class="fa fa-chevron-left"></i> Scheduling Pods</div></a><a class="pagination-nav__link pagination-nav__link--next" href=https://cloud.layer5.io/academy/learning-paths/98e16360-a366-4b78-8e0a-031da07fdacb/cka-prep/content/storage/><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Storage <i class="fa fa-chevron-right"></i></div></a></nav></div></main></div></div></div><script src=https://cloud.layer5.io/academy/js/main.min.93a3bf75eba7f67cb62933bdc16aff4dc235ec3930d0090a0bdf2a9941f29237.js integrity="sha256-k6O/deun9ny2KTO9wWr/TcI17Dkw0AkKC98qmUHykjc=" crossorigin=anonymous></script><script defer src=https://cloud.layer5.io/academy/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=https://cloud.layer5.io/academy/js/tabpane-persist.js></script><div id=myModal class=modal><button class=modal-close onclick=closeModal()>close</button><div class=modal-cont><img class=modal-pic id=modalPic onclick=closeModal() style=max-width:100%;max-height:80vh;margin:auto alt=Modal-pic></div></div><script>function openModal(e){var t;typeof e=="string"?t=document.getElementById(e).src:e instanceof HTMLImageElement&&(t=e.src),t&&t.includes("#")&&(t=t.substring(0,t.indexOf("#"))),document.getElementById("modalPic").src=t,document.getElementById("myModal").style.display="block"}function closeModal(){document.getElementById("modalPic").src="",document.getElementById("myModal").style.display="none"}document.addEventListener("keydown",function(e){e.key==="Escape"&&closeModal()}),document.addEventListener("DOMContentLoaded",function(){var e,t=document.querySelectorAll("img");t.forEach(function(e){e.onclick=function(){e.dataset.modal!=="false"&&openModal(e)}}),e=document.getElementById("myModal"),e.addEventListener("click",function(){closeModal()})})</script></body></html>